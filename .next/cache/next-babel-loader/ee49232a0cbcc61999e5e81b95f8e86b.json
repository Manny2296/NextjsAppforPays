{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _Object$values from \"@babel/runtime-corejs2/core-js/object/values\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"C:\\\\Users\\\\Riano\\\\Repo\\\\NextjsAppforPays\\\\components\\\\TableUsers.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Component } from 'react';\nimport MaterialTable from 'material-table';\nimport Layout from '../components/Layout';\nimport { forwardRef } from 'react';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { _createUser } from \"../actions/userAction\";\nimport { _updateUser } from \"../actions/userAction\";\nimport { _deleteUser } from \"../actions/userAction\";\nimport \"./Table.scss\";\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport Paper from '@material-ui/core/Paper';\nimport { Grid, MuiThemeProvider } from '@material-ui/core';\nvar direction = 'ltr';\nimport { createMuiTheme } from '@material-ui/core/styles';\nvar container = {\n  overflow: 'auto',\n  marginRight: 'auto',\n  marginLeft: 'auto',\n  padding: 10,\n  margin: '10px'\n};\nvar theme = createMuiTheme({\n  direction: direction,\n  palette: {\n    type: 'light'\n  }\n});\nvar columns = [{\n  title: 'Id',\n  field: 'idusuario',\n  type: 'numeric',\n  hidden: true\n}, {\n  title: 'Nombre',\n  field: 'name'\n}, {\n  title: 'Apellido',\n  field: 'surname'\n}, {\n  title: 'No Documento',\n  field: 'id_Document',\n  type: 'numeric'\n}, {\n  title: 'E-mail',\n  field: 'mail'\n}, {\n  title: 'Telefono',\n  type: 'numeric',\n  field: 'telephone'\n}];\nvar tableIcons = {\n  Add: forwardRef(function (props, ref) {\n    return __jsx(AddBox, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }));\n  }),\n  Check: forwardRef(function (props, ref) {\n    return __jsx(Check, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }));\n  }),\n  Clear: forwardRef(function (props, ref) {\n    return __jsx(Clear, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }));\n  }),\n  Delete: forwardRef(function (props, ref) {\n    return __jsx(DeleteOutline, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }));\n  }),\n  DetailPanel: forwardRef(function (props, ref) {\n    return __jsx(ChevronRight, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }));\n  }),\n  Edit: forwardRef(function (props, ref) {\n    return __jsx(Edit, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }));\n  }),\n  Export: forwardRef(function (props, ref) {\n    return __jsx(SaveAlt, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }));\n  }),\n  Filter: forwardRef(function (props, ref) {\n    return __jsx(FilterList, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }));\n  }),\n  FirstPage: forwardRef(function (props, ref) {\n    return __jsx(FirstPage, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }));\n  }),\n  LastPage: forwardRef(function (props, ref) {\n    return __jsx(LastPage, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }));\n  }),\n  NextPage: forwardRef(function (props, ref) {\n    return __jsx(ChevronRight, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }));\n  }),\n  PreviousPage: forwardRef(function (props, ref) {\n    return __jsx(ChevronLeft, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n  }),\n  ResetSearch: forwardRef(function (props, ref) {\n    return __jsx(Clear, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }));\n  }),\n  Search: forwardRef(function (props, ref) {\n    return __jsx(Search, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }));\n  }),\n  SortArrow: forwardRef(function (props, ref) {\n    return __jsx(ArrowDownward, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }));\n  }),\n  ThirdStateCheck: forwardRef(function (props, ref) {\n    return __jsx(Remove, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }));\n  }),\n  ViewColumn: forwardRef(function (props, ref) {\n    return __jsx(ViewColumn, _extends({}, props, {\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }));\n  })\n};\n\nvar TableUsers =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TableUsers, _Component);\n\n  function TableUsers(props) {\n    var _this;\n\n    _classCallCheck(this, TableUsers);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TableUsers).call(this, props));\n    _this.state = {\n      users: [] //isLoading: false // Par défaut à false car il n'y a pas de chargement tant qu'on ne lance pas de recherche        \n\n    };\n\n    _this._loadUsuarios();\n\n    return _this;\n  }\n\n  _createClass(TableUsers, [{\n    key: \"_loadUsuarios\",\n    value: function () {\n      var _loadUsuarios2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch('http://localhost:8080/users/');\n\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n\n              case 5:\n                data = _context.sent;\n                //console.log(`Show data fetched. Count: ${data.length}`  );\n                this.setState({\n                  users: [].concat(_toConsumableArray(this.state.users), _toConsumableArray(data)) // une autre sintaxys  films: this.state.films.concat(data.results)\n                  // films: data.results,  // une autre sintaxys  films: this.state.films.concat(data.results)\n\n                }); //  console.log(\"Rowsusu\"+this.state.numRows)\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _loadUsuarios() {\n        return _loadUsuarios2.apply(this, arguments);\n      }\n\n      return _loadUsuarios;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, __jsx(MuiThemeProvider, {\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: {\n          maxWidth: '100%',\n          direction: direction\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, __jsx(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, __jsx(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, __jsx(MaterialTable, {\n        icons: tableIcons,\n        title: \"Lista de Usuarios\",\n        columns: columns,\n        data: this.state.users,\n        actions: [{\n          icon: AccountCircleIcon,\n          tooltip: 'User Profile',\n          onClick: function onClick(event, rowData) {\n            return (//alert(\"You saved \" + rowData.name)window.location.href\n              window.location.href = \"/user/\".concat(rowData.id_Document)\n            );\n          }\n        }],\n        editable: {\n          onRowAdd: function onRowAdd(newData) {\n            return new _Promise(function (resolve) {\n              setTimeout(function () {\n                resolve();\n\n                _createUser(newData);\n\n                _this2.setState({\n                  users: [].concat(_toConsumableArray(_this2.state.users), [newData])\n                });\n              }, 600);\n            });\n          },\n          onRowUpdate: function onRowUpdate(newData, oldData) {\n            return new _Promise(function (resolve) {\n              setTimeout(function () {\n                resolve();\n\n                if (oldData) {\n                  var toPut = _Object$values(newData);\n\n                  var arraytoPut = [{\n                    idusuario: toPut[0],\n                    name: toPut[1],\n                    surname: toPut[2],\n                    id_Document: toPut[3],\n                    email: toPut[4],\n                    telephone: _parseInt(toPut[6])\n                  }]; //   console.log(\"toPut> \" + JSON.stringify(toPut))\n\n                  _updateUser(arraytoPut);\n\n                  _this2.setState(function (prevState) {\n                    var users = _toConsumableArray(prevState.users);\n\n                    users[users.indexOf(oldData)] = newData;\n                    return _objectSpread({}, prevState, {\n                      users: users\n                    });\n                  });\n                }\n              }, 600);\n            });\n          },\n          onRowDelete: function onRowDelete(oldData) {\n            return new _Promise(function (resolve) {\n              setTimeout(function () {\n                resolve();\n                console.log(_JSON$stringify(oldData));\n\n                _deleteUser(oldData);\n\n                _this2.setState(function () {\n                  return {\n                    users: _this2.state.users.filter(function (item) {\n                      return item.idusuario !== oldData.idusuario;\n                    })\n                  };\n                });\n              }, 600);\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return TableUsers;\n}(Component);\n\nexport default TableUsers;","map":{"version":3,"sources":["C:/Users/Riano/Repo/NextjsAppforPays/components/TableUsers.js"],"names":["Component","MaterialTable","Layout","forwardRef","AddBox","ArrowDownward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","_createUser","_updateUser","_deleteUser","AccountCircleIcon","Paper","Grid","MuiThemeProvider","direction","createMuiTheme","container","overflow","marginRight","marginLeft","padding","margin","theme","palette","type","columns","title","field","hidden","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","TableUsers","state","users","_loadUsuarios","fetch","res","json","data","setState","maxWidth","icon","tooltip","onClick","event","rowData","window","location","href","id_Document","onRowAdd","newData","resolve","setTimeout","onRowUpdate","oldData","toPut","arraytoPut","idusuario","name","surname","email","telephone","prevState","indexOf","onRowDelete","console","log","filter","item"],"mappings":"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","sourcesContent":["import  { Component } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport Layout from '../components/Layout';\r\n\r\nimport { forwardRef } from 'react';\r\nimport AddBox from '@material-ui/icons/AddBox';\r\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\r\nimport Check from '@material-ui/icons/Check';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport FilterList from '@material-ui/icons/FilterList';\r\nimport FirstPage from '@material-ui/icons/FirstPage';\r\nimport LastPage from '@material-ui/icons/LastPage';\r\nimport Remove from '@material-ui/icons/Remove';\r\nimport SaveAlt from '@material-ui/icons/SaveAlt';\r\nimport Search from '@material-ui/icons/Search';\r\nimport ViewColumn from '@material-ui/icons/ViewColumn';\r\nimport { _createUser } from \"../actions/userAction\";\r\nimport { _updateUser } from \"../actions/userAction\";\r\nimport { _deleteUser } from \"../actions/userAction\";\r\nimport \"./Table.scss\"\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport {Grid,MuiThemeProvider} from '@material-ui/core';\r\nlet direction = 'ltr';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nconst container =  {  \r\n  \r\n  overflow: 'auto',\r\n  marginRight: 'auto',\r\n  marginLeft: 'auto',\r\n  padding: 10,\r\n  margin: '10px',\r\n  \r\n }\r\n const theme = createMuiTheme({\r\n  direction: direction,\r\n  palette: {\r\n    type: 'light'\r\n  }\r\n});\r\nconst columns =  [\r\n {title:'Id', field:'idusuario', type:'numeric', hidden: true},\r\n  { title: 'Nombre', field: 'name' },\r\n  { title: 'Apellido', field: 'surname' },\r\n  {\r\n    title: 'No Documento',\r\n    field:'id_Document',\r\n    type: 'numeric',\r\n  },\r\n  {\r\n    title: 'E-mail',\r\n    field: 'mail'\r\n  },\r\n  {\r\n    title: 'Telefono',\r\n    type: 'numeric',\r\n    field:'telephone'\r\n  },\r\n\r\n]\r\nconst tableIcons = {\r\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n  DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n  PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\r\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n  SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\r\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n  \r\n};\r\n\r\nclass TableUsers extends Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      users: [],\r\n      \r\n      //isLoading: false // Par défaut à false car il n'y a pas de chargement tant qu'on ne lance pas de recherche        \r\n     }\r\n     this._loadUsuarios() \r\n  }\r\n  async _loadUsuarios(){\r\n    const res = await fetch('http://localhost:8080/users/');\r\n    const data = await res.json();\r\n    \r\n    //console.log(`Show data fetched. Count: ${data.length}`  );\r\n    \r\n \r\n    this.setState(\r\n      { \r\n        users: [...this.state.users, ...data],  // une autre sintaxys  films: this.state.films.concat(data.results)\r\n       // films: data.results,  // une autre sintaxys  films: this.state.films.concat(data.results)\r\n     \r\n       \r\n      }\r\n    )\r\n  //  console.log(\"Rowsusu\"+this.state.numRows)\r\n  }\r\n \r\n  render() {\r\n  \r\n   \r\n    return (\r\n   <Layout>\r\n    <MuiThemeProvider theme={theme}>\r\n    <div style={{ maxWidth: '100%', direction }}>\r\n    <Grid container>\r\n    <Grid item xs={12}>\r\n    <MaterialTable\r\n       \r\n       icons={tableIcons}\r\n      \r\n       title=\"Lista de Usuarios\"\r\n       columns={columns}\r\n       data={this.state.users}\r\n       actions={[\r\n        {\r\n          icon: AccountCircleIcon,\r\n          tooltip: 'User Profile',\r\n          onClick: (event, rowData) => //alert(\"You saved \" + rowData.name)window.location.href\r\n          window.location.href = `/user/${rowData.id_Document}`\r\n           \r\n        }\r\n       ]}\r\n    \r\n      editable={{\r\n        onRowAdd: newData =>\r\n          new Promise(resolve => {\r\n            setTimeout(() => {\r\n              resolve();\r\n              _createUser(newData)\r\n             \r\n              this.setState(\r\n                { \r\n                  users: [...this.state.users,newData]\r\n                }\r\n              )              \r\n            }, 600);\r\n          }),\r\n        onRowUpdate: (newData, oldData) =>\r\n          new Promise(resolve => {\r\n            setTimeout(() => {\r\n              resolve();\r\n              if (oldData) {                            \r\n                let toPut = Object.values(newData);\r\n                var arraytoPut = [{idusuario:toPut[0],name:toPut[1],surname:toPut[2],id_Document:toPut[3],email:toPut[4],telephone:parseInt(toPut[6])}]\r\n               //   console.log(\"toPut> \" + JSON.stringify(toPut))\r\n                  _updateUser(arraytoPut);              \r\n                  this.setState(prevState => {\r\n                    const users = [...prevState.users];\r\n                    users[users.indexOf(oldData)] = newData;\r\n                    return { ...prevState, users };\r\n                  });\r\n                         \r\n                                                         \r\n              }\r\n            }, 600);\r\n          }),\r\n        onRowDelete: oldData =>\r\n          new Promise(resolve => {\r\n            setTimeout(() => {\r\n              resolve();\r\n              console.log(JSON.stringify(oldData))\r\n              _deleteUser(oldData)\r\n              this.setState(() => {\r\n      \r\n                return { users:this.state.users.filter(item => item.idusuario !== oldData.idusuario) };\r\n              });\r\n            }, 600);\r\n          }),\r\n     \r\n      }}\r\n    />\r\n     </Grid>\r\n            </Grid>\r\n            </div>\r\n        </MuiThemeProvider>\r\n </Layout>\r\n    \r\n    \r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default TableUsers;\r\n"]},"metadata":{},"sourceType":"module"}