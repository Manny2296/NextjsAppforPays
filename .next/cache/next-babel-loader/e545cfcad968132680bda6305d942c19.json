{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Riano\\\\Repo\\\\PagosApp\\\\pages\\\\prestamos.js\";\nvar __jsx = React.createElement;\nimport Layout from \"../components/Layout\";\nimport Link from \"next/link\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { Component } from 'react';\nimport Router from 'next/router';\nimport { Button, Box, TextField } from \"@material-ui/core\";\nimport \"../components/Table.scss\";\nimport { _getUserbyid } from \"../actions/userAction\";\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport fetch from 'isomorphic-unfetch';\n\nvar pagos =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(pagos, _Component);\n\n  function pagos(props) {\n    var _this;\n\n    _classCallCheck(this, pagos);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(pagos).call(this, props));\n    _this.state = {\n      queryval: _this.props.queryval,\n      userdata: _this.props.userdataprops,\n      dataExist: _this.props.dataexistprops,\n      noDocument: _this.props.queryval\n    };\n    _this._handleNoDocChange = _this._handleNoDocChange.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(pagos, [{\n    key: \"_handleNoDocChange\",\n    value: function _handleNoDocChange(event) {\n      this.setState({\n        noDocument: event.target.value\n      });\n    }\n  }, {\n    key: \"_handleLoadUser\",\n    value: function _handleLoadUser() {\n      var _this2 = this;\n\n      if (this.state.noDocument != '') {\n        console.log(\"entre\");\n        return _getUserbyid(this.state.noDocument).then(function (res) {\n          if (res !== null) {\n            _this2.setState({\n              userdata: res[0],\n              dataExist: true\n            });\n\n            _this2._doclick();\n          }\n        })[\"catch\"](function (error) {\n          return console.log(error);\n        });\n      } else {\n        console.log(\"else entre\");\n        return this.setState({\n          userdata: [],\n          dataExist: false\n        }); // this._doclick()\n      }\n    } // console.log('get user> ' + data)\n\n  }, {\n    key: \"_rendercardPrestamos\",\n    value: function _rendercardPrestamos() {\n      if (this.state.dataExist) {\n        return this.state.userdata.prestamos.map(function (prestamo) {\n          return (// console.log(\"valor prestamo\" + prestamo.prestamo_valor),\n            __jsx(\"div\", {\n              className: useStyles.card_div_cotainer,\n              key: prestamo.idprestamo,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 69\n              },\n              __self: this\n            }, __jsx(Card, {\n              className: useStyles.card,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 70\n              },\n              __self: this\n            }, __jsx(CardActionArea, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 71\n              },\n              __self: this\n            }, __jsx(CardHeader, {\n              avatar: __jsx(Avatar, {\n                \"aria-label\": \"recipe\",\n                className: classes.avatar,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 74\n                },\n                __self: this\n              }, \"P\"),\n              action: __jsx(IconButton, {\n                \"aria-label\": \"settings\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 79\n                },\n                __self: this\n              }, __jsx(MoreVertIcon, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 80\n                },\n                __self: this\n              })),\n              title: \"Shrimp and Chorizo Paella\",\n              subheader: \"September 14, 2016\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 72\n              },\n              __self: this\n            }), __jsx(CardMedia, {\n              className: useStyles.media,\n              image: \"../../components/image/\",\n              title: \"Contemplative Reptile\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 86\n              },\n              __self: this\n            }), __jsx(CardContent, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 91\n              },\n              __self: this\n            }, __jsx(Typography, {\n              gutterBottom: true,\n              variant: \"h5\",\n              component: \"h2\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 92\n              },\n              __self: this\n            }, \"Prestamo No \", prestamo.idprestamo), __jsx(Typography, {\n              variant: \"body2\",\n              color: \"textSecondary\",\n              component: \"p\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 95\n              },\n              __self: this\n            }, \"Valor Prestamo : \", prestamo.prestamo_valor, \" \", __jsx(\"br\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 96\n              },\n              __self: this\n            }), \"No de Cuotas :\", prestamo.prestamo_cuotas))), __jsx(CardActions, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 101\n              },\n              __self: this\n            }, __jsx(Button, {\n              size: \"small\",\n              color: \"primary\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 102\n              },\n              __self: this\n            }, \"Share\"), __jsx(Button, {\n              size: \"small\",\n              color: \"primary\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 105\n              },\n              __self: this\n            }, \"Learn More\"))))\n          );\n        });\n      }\n    }\n  }, {\n    key: \"_renderbasedonQueryvalue\",\n    value: function _renderbasedonQueryvalue() {\n      //  console.log('RENDERRRS'+this.state.queryval)\n      //console.log(\"fuck\"+ this.state.userdata.name)\n      //console.log(\"Data \" +  this.state.userdata.prestamos)\n      if (this.state.queryval == undefined) {\n        return __jsx(\"div\", {\n          className: \"divPrestamos\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, __jsx(Box, {\n          className: \"containerDataUser\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, __jsx(TextField, {\n          value: this.state.noDocument,\n          onChange: this._handleNoDocChange,\n          label: \"Numero de Documento\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }), __jsx(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: this._handleLoadUser.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, \"Consultar \")), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }), __jsx(Box, {\n          className: \"containerDataUser\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, this._rendercardPrestamos()));\n      } //{}  <label>{this.state.userdata.name}</label>\n      else //console.log('RENDERRRS BASADO EN USUARIO OK')\n        return __jsx(\"div\", {\n          className: \"divPrestamos\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, __jsx(Box, {\n          className: \"containerDataUser\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, __jsx(TextField, {\n          value: this.state.noDocument,\n          onChange: this._handleNoDocChange,\n          label: \"Numero de Documento\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }), __jsx(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: this._handleLoadUser.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \"Consultar \")), __jsx(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }), __jsx(Box, {\n          className: \"containerDataUser\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, this._rendercardPrestamos()));\n    }\n  }, {\n    key: \"_doclick\",\n    value: function _doclick() {\n      var href = \"/prestamos?user=\" + this.state.noDocument;\n      Router.push(href, href, {\n        shallow: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //{}\n      return __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, __jsx(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), this._renderbasedonQueryvalue());\n    }\n  }]);\n\n  return pagos;\n}(Component);\n\npagos.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(_ref) {\n    var query, queryval, userdataprops, dataexistprops, resp;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref.query;\n            userdataprops = [];\n            dataexistprops = false;\n\n            if (!(query.user == undefined)) {\n              _context.next = 7;\n              break;\n            }\n\n            // console.log(\"Render normal\")\n            queryval = '', userdataprops = [], dataexistprops = false;\n            _context.next = 13;\n            break;\n\n          case 7:\n            _context.next = 9;\n            return _getUserbyid(query.user);\n\n          case 9:\n            resp = _context.sent;\n            queryval = query.user;\n            userdataprops = resp[0];\n            dataexistprops = true; //console.log(\"!Jso\" + JSON.stringify(resp))\n\n          case 13:\n            return _context.abrupt(\"return\", {\n              queryval: queryval,\n              userdataprops: userdataprops,\n              dataexistprops: dataexistprops\n            });\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar useStyles = makeStyles({\n  card: {\n    maxWidth: 345\n  },\n  media: {\n    height: 140\n  },\n  card_div_cotainer: {\n    margin: \"5px\"\n  },\n  avatar: {\n    backgroundColor: red[500]\n  }\n});\nexport default pagos;","map":{"version":3,"sources":["C:/Users/Riano/Repo/PagosApp/pages/prestamos.js"],"names":["Layout","Link","makeStyles","React","Component","Router","Button","Box","TextField","_getUserbyid","Card","CardActionArea","CardActions","CardContent","CardMedia","Typography","fetch","pagos","props","state","queryval","userdata","userdataprops","dataExist","dataexistprops","noDocument","_handleNoDocChange","bind","event","setState","target","value","console","log","then","res","_doclick","error","prestamos","map","prestamo","useStyles","card_div_cotainer","idprestamo","card","classes","avatar","media","prestamo_valor","prestamo_cuotas","undefined","_handleLoadUser","_rendercardPrestamos","href","push","shallow","_renderbasedonQueryvalue","getInitialProps","query","user","resp","maxWidth","height","margin","backgroundColor","red"],"mappings":"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","sourcesContent":["import Layout from \"../components/Layout\";\r\nimport Link from \"next/link\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React, { Component } from 'react';\r\nimport Router from 'next/router'\r\nimport { Button, Box, TextField} from \"@material-ui/core\";\r\nimport \"../components/Table.scss\"\r\nimport { _getUserbyid } from \"../actions/userAction\";\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport fetch from 'isomorphic-unfetch';\r\nclass pagos extends Component {\r\n \r\n  constructor(props){\r\n    super(props)\r\n    this.state ={\r\n      queryval : this.props.queryval,\r\n      userdata : this.props.userdataprops,\r\n      dataExist : this.props.dataexistprops,\r\n      noDocument :this.props.queryval,\r\n    }\r\n    this._handleNoDocChange = this._handleNoDocChange.bind(this);\r\n  }\r\n  \r\n  _handleNoDocChange(event){\r\n    \r\n   this.setState({noDocument: event.target.value});\r\n\r\n  }\r\n  _handleLoadUser(){\r\n    if(this.state.noDocument != ''){\r\n      console.log(\"entre\")\r\n      return _getUserbyid(this.state.noDocument).then(res => {\r\n        if(res !== null){\r\n          this.setState({userdata : res[0],\r\n            dataExist: true,\r\n            })\r\n             this._doclick()\r\n        }\r\n    }    ).catch(error => console.log(error))\r\n  }\r\n     else{\r\n       console.log(\"else entre\")\r\n       return(\r\n      this.setState({userdata : [],\r\n        dataExist: false,\r\n        }))\r\n        // this._doclick()\r\n     }\r\n    }\r\n\r\n   // console.log('get user> ' + data)\r\n   \r\n  \r\n\r\n  _rendercardPrestamos()\r\n  {\r\n    \r\n    if(this.state.dataExist)  \r\n     {\r\n      return(\r\n        \r\n      this.state.userdata.prestamos.map(prestamo => (\r\n       // console.log(\"valor prestamo\" + prestamo.prestamo_valor),\r\n      <div className={useStyles.card_div_cotainer} key={prestamo.idprestamo}>\r\n    <Card className={useStyles.card}>\r\n      <CardActionArea>\r\n      <CardHeader\r\n        avatar={\r\n          <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n            P\r\n          </Avatar>\r\n        }\r\n        action={\r\n          <IconButton aria-label=\"settings\">\r\n            <MoreVertIcon />\r\n          </IconButton>\r\n        }\r\n        title=\"Shrimp and Chorizo Paella\"\r\n        subheader=\"September 14, 2016\"\r\n      />\r\n        <CardMedia\r\n          className={useStyles.media}\r\n          image=\"../../components/image/\"\r\n          title=\"Contemplative Reptile\"\r\n        />\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n             Prestamo No {prestamo.idprestamo} \r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n             Valor Prestamo : {prestamo.prestamo_valor} <br/>\r\n             No de Cuotas :{prestamo.prestamo_cuotas} \r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <Button size=\"small\" color=\"primary\">\r\n          Share\r\n        </Button>\r\n        <Button size=\"small\" color=\"primary\">\r\n          Learn More\r\n        </Button>\r\n      </CardActions>\r\n    </Card>\r\n    </div>\r\n  ))) }\r\n}\r\n\r\n  _renderbasedonQueryvalue(){\r\n  //  console.log('RENDERRRS'+this.state.queryval)\r\n    //console.log(\"fuck\"+ this.state.userdata.name)\r\n    //console.log(\"Data \" +  this.state.userdata.prestamos)\r\n    if(this.state.queryval ==undefined){\r\n      return(\r\n        <div className='divPrestamos'>  \r\n       <Box className='containerDataUser' >\r\n          \r\n         <TextField value={this.state.noDocument} onChange={this._handleNoDocChange} label=\"Numero de Documento\" />\r\n         <Button variant=\"contained\" color=\"primary\" onClick={this._handleLoadUser.bind(this)} >Consultar </Button>\r\n       </Box>\r\n       <br/>\r\n           <Box className='containerDataUser'>\r\n        \r\n         {this._rendercardPrestamos()\r\n         }\r\n           </Box>\r\n           </div>\r\n      )\r\n    }\r\n    //{}  <label>{this.state.userdata.name}</label>\r\n    else\r\n       \r\n    //console.log('RENDERRRS BASADO EN USUARIO OK')\r\n    return(\r\n      <div className='divPrestamos'>  \r\n      <Box className='containerDataUser' >\r\n         \r\n        <TextField value={this.state.noDocument} onChange={this._handleNoDocChange} label=\"Numero de Documento\" />\r\n        <Button variant=\"contained\" color=\"primary\" onClick={this._handleLoadUser.bind(this)} >Consultar </Button>\r\n      </Box>\r\n      <br/>\r\n          <Box className='containerDataUser'>\r\n       \r\n        {this._rendercardPrestamos()\r\n        }\r\n          </Box>\r\n          </div>\r\n    )\r\n  }\r\n\r\n  _doclick(){\r\n    const href = `/prestamos?user=`+ this.state.noDocument\r\n    Router.push(href, href, { shallow: true })\r\n  }\r\n  \r\n  render() {\r\n    //{}\r\n    return (\r\n      <Layout>\r\n        \r\n      <br />\r\n     {this._renderbasedonQueryvalue()}\r\n          \r\n      \r\n    </Layout>\r\n    );\r\n  }\r\n}\r\n pagos.getInitialProps = async({query}) =>{\r\n  //console.log(\"valor\"+query.user)\r\n  var queryval\r\n  var userdataprops = []\r\n  var dataexistprops = false\r\n  if(query.user ==undefined){\r\n   // console.log(\"Render normal\")\r\n    queryval = '',\r\n    userdataprops = [],\r\n    dataexistprops = false    \r\n  }\r\n  else{\r\n    //console.log(\"Render based on user \" + query.user)\r\n    const resp = await _getUserbyid(query.user)\r\n    queryval = query.user\r\n    userdataprops = resp[0]\r\n    dataexistprops = true\r\n\r\n    //console.log(\"!Jso\" + JSON.stringify(resp))\r\n    \r\n    \r\n  }\r\n  return {\r\n    queryval : queryval,\r\n    userdataprops : userdataprops,\r\n    dataexistprops : dataexistprops\r\n  }\r\n  \r\n\r\n\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  card: {\r\n    maxWidth: 345,\r\n    \r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n   card_div_cotainer: {\r\n    margin: \"5px\"\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  }\r\n});\r\n\r\n\r\nexport default pagos;\r\n\r\n"]},"metadata":{},"sourceType":"module"}